# Copy to env.jellyfin-ai and populate the secrets below.

# Supabase (used by the audio processor + API gateway)
SUPABASE_URL=https://supabase.cataclysmstudios.net
SUPABASE_ANON_KEY=anon-key
SUPABASE_SERVICE_ROLE_KEY=service-role-key

# Jellyfin credentials (username/password OR API key)
JELLYFIN_URL=http://jellyfin:8096
JELLYFIN_USERNAME=cataclysm-admin
JELLYFIN_PASSWORD=cataclysm-change-me
JELLYFIN_API_KEY=
JELLYFIN_PUBLIC_BASE_URL=http://jellyfin:8096
JELLYFIN_USER_ID=

# Stack routing (aligns compose profiles + dependent services)
JELLYFIN_STACK_SERVICE=jellyfin
JELLYFIN_SERVICE_HOST=jellyfin

# Hardware acceleration and codec preferences
JELLYFIN_HWACCEL_MODE=software        # software|vaapi|nvenc
JELLYFIN_ENABLE_HDR=1                 # 1 enables HDR pass-through + tone mapping controls
JELLYFIN_HDR_TONE_MAP=auto            # auto|hlg|pq|disabled
JELLYFIN_PREFER_AV1=1                 # Prefer AV1 transcodes when available
JELLYFIN_DRM_RENDER_NODE=/dev/dri/renderD128
JELLYFIN_VAAPI_DEVICE=/dev/dri/renderD128
JELLYFIN_NVIDIA_GPUS=all
JELLYFIN_NVIDIA_VISIBLE_DEVICES=all
JELLYFIN_NVIDIA_DRIVER_CAPABILITIES=compute,video,utility

# Optional: adjust processing cadence (seconds)
PROCESSING_INTERVAL=300

# Qwen Audio (Ollama) Configuration
# The Qwen audio service now uses Ollama with quantized GGUF models
# After starting services, run: docker exec pmoves-jellyfin-qwen ollama pull hf.co/second-state/Qwen2-Audio-7B-Instruct-GGUF:Q4_K_M
QWEN_AUDIO_URL=http://jellyfin-qwen-audio:11434
QWEN_MODEL_NAME=hf.co/second-state/Qwen2-Audio-7B-Instruct-GGUF:Q4_K_M
