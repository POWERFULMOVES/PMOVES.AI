[pytest]
python_files = test_*.py
python_classes = Test*
python_functions = test_*
# Test paths - run each service tests from its directory for isolation
# For CI, use: pytest pmoves/services/*/tests -v
testpaths = pmoves/services/publisher/tests pmoves/services/pmoves-yt/tests pmoves/services/publisher-discord/tests
# Use importlib mode to avoid requiring __init__.py in parent packages
addopts = --import-mode=importlib

# Note: flute-gateway and chat-relay tests should be run individually:
#   pytest pmoves/services/flute-gateway/tests/
#   pytest pmoves/services/chat-relay/tests/
# Or from their service directories:
#   cd pmoves/services/flute-gateway && pytest tests/
